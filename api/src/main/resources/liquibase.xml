<?xml version="1.0" encoding="UTF-8"?>

<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.28.xsd">

    <!-- ChangeSet: A unit of change to be applied to the database -->
    <changeSet id="mamba-etl-0001" author="Arthur D. Mugume [MakSPH], Laureen G. Omare [UCSF]" runAlways="true">

        <!--
            Comment: Describes the purpose of this changeset.
            ChangeSet comments are useful for documentation purposes.
        -->
        <comment>
            Installs/deploys all the required MambaETL Stored procedures and functions
        </comment>

        <!--
            sqlFile: Reads SQL statements from an external file.
            - splitStatements="false": SQL statements are separated by custom delimiters.
            - stripComments="true": Removes comments from the SQL file before execution.
            - endDelimiter="/": Specifies the delimiter for separating SQL statements.
        -->
        <sqlFile dbms="mysql, mariadb"
                 path="mamba/liquibase_create_stored_procedures.sql"
                 splitStatements="true"
                 stripComments="true"
                 endDelimiter="~"/>

    </changeSet>

</databaseChangeLog>